find_package(BISON REQUIRED)
find_package(FLEX REQUIRED)

# LANGUAGE
#flex_target(FLEX_ATOM ${CMAKE_SOURCE_DIR}/hacksaw/language/atom_flex.l
#        ${CMAKE_CURRENT_BINARY_DIR}/hacksaw/atom.flex.c)
#flex_target(FLEX_DEPEND ${CMAKE_SOURCE_DIR}/hacksaw/language/depend_flex.l
#        ${CMAKE_CURRENT_BINARY_DIR}/hacksaw/depend.flex.c)
#bison_target(LANG_ATOM
#        ${CMAKE_SOURCE_DIR}/hacksaw/language/atom_bison.y
#        ${CMAKE_CURRENT_BINARY_DIR}/hacksaw/atom.tab.c)
#bison_target(LANG_DEPEND
#        ${CMAKE_SOURCE_DIR}/hacksaw/language/depend_bison.y
#        ${CMAKE_CURRENT_BINARY_DIR}/hacksaw/depend.tab.c)

#add_flex_bison_dependency(FLEX_ATOM LANG_ATOM)
#add_flex_bison_dependency(FLEX_DEPEND LANG_DEPEND)

#set(language_BIN
#        ${BISON_LANG_ATOM_OUTPUTS}
#        ${BISON_LANG_DEPEND_OUTPUTS}
#        ${FLEX_FLEX_DEPEND_OUTPUTS}
#        ${FLEX_FLEX_ATOM_OUTPUTS}
#        )

set(hacksaw_SRC
        hacksaw/src/conf.c
        hacksaw/src/debug.c
        #hacksaw/src/dependency.c
        hacksaw/src/directory.c
        hacksaw/src/hash.c
        hacksaw/src/log.c
        #hacksaw/src/manifest.c
        hacksaw/src/map.c
        #hacksaw/src/package.c
        #hacksaw/src/package_config.c
        #hacksaw/src/repository.c
        hacksaw/src/small_map.c
        hacksaw/src/string.c
        hacksaw/src/string_vector.c
        #hacksaw/src/use_flag.c
        hacksaw/src/vector.c
        hacksaw/src/linked_vector.c
        hacksaw/src/util.c
        )

set(hacksaw_HEADERS
        include/autogentoo/hacksaw/hacksaw.h
        #include/autogentoo/hacksaw/language.h
        include/autogentoo/hacksaw/tools.h
        #include/autogentoo/hacksaw/portage/dependency.h
        #include/autogentoo/hacksaw/portage/directory.h
        #include/autogentoo/hacksaw/portage/hash.h
        #include/autogentoo/hacksaw/portage/manifest.h
        #include/autogentoo/hacksaw/portage/package.h
        #include/autogentoo/hacksaw/portage/package_config.h
        #include/autogentoo/hacksaw/portage/portage.h
        #include/autogentoo/hacksaw/portage/repository.h
        #include/autogentoo/hacksaw/portage/use_flags.h
        include/autogentoo/hacksaw/tools/conf.h
        include/autogentoo/hacksaw/tools/debug.h
        include/autogentoo/hacksaw/tools/log.h
        include/autogentoo/hacksaw/tools/map.h
        include/autogentoo/hacksaw/tools/small_map.h
        include/autogentoo/hacksaw/tools/string.h
        include/autogentoo/hacksaw/tools/string_vector.h
        include/autogentoo/hacksaw/tools/vector.h
        include/autogentoo/hacksaw/tools/linked_vector.h
        include/autogentoo/hacksaw/tools/util.h
        )

